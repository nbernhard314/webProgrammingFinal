<h2>Cart</h2>
{{#if error}}
<div class="form-group">
    <div class="alert alert-danger">
        {{ error }}
    </div>
</div>
{{/if}}
{{#if notEmpty }}
<div class="found">
    <form method="post" action="/cart">
        <ul id="cart">
            {{#each item}}
            <li class="cartItem"> <a href="/product/{{id}}"> {{itemName}} </a> Price: ${{price}}
                <label for="quantity">Quantity</label>
                <input type="number" min="0" price={{price}} id={{id}} class="quantityInput" name={{id}}
                    value="{{quantity}}">
            </li>
            {{/each}}
        </ul>
        <button id="updateButton" type="submit" class="btn btn-default">Update Cart</button>
    </form>
    <form method="POST" action="/coupon">
        <label for="couponInput">Coupon/Promo Code</label>
        <input type="text" id="couponInput" name="code">
        <button type="submit" id="couponSubmit" class="btn btn-default">Submit</button>
    </form>
    <p>Total Price: $<label id="totalPrice">{{totalPrice}}</label></p>
</div>
<div class="form-group">
    <form class="server-form" method="post" action="/cart" id="completeCart">
        <button type="submit" class="btn btn-default">Complete Cart</button>
    </form>
</div>
<div>
    <h3>Coupon Policy</h3>
    <p>1. Only one coupon can be applied to the cart. Which ever coupon is entered most recently will be applied.</p>
    <p>2. If you enter a coupon code and there is no reduction to the price, the coupon code is invalid.</p>
    <p>3. If you change the quantity of an item in your cart, you must update your cart and re-enter your promo code.
    </p>
</div>

{{else}}
<p>Cart Empty.</p>
{{/if}}
<script src="../../public/js/cart.js"></script>